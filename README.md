# Китайская стратегия бота для игры "Камень-Ножницы-Бумага"

Данный бот реализует простую стратегию выбора хода для игры "Камень-Ножницы-Бумага". Логика работы бота основана на переходах между ходами в зависимости от результата предыдущей схватки и знания противником используемой методики.

## Описание логики

Бот действует согласно следующим правилам:

- **Первый ход:**  
  Если предыдущих ходов нет, бот выбирает **Камень**.

- **Если бот выиграл или сыграл вничью:**  
  - Если последний ход был **Камень**, бот выбирает **Ножницы**.
  - Если последний ход был **Ножницы**, бот выбирает **Бумагу**.
  - Если последний ход был **Бумага**, бот выбирает **Камень**.

- **Если бот проиграл:**  
  - **Если противник не знает методику:**  
    Бот использует ту же стратегию, что и при выигрыше (переходы: Камень → Ножницы, Ножницы → Бумага, Бумага → Камень).  
  - **Если противник знает методику:**  
    Бот применяет альтернативную стратегию (переходы: Камень → Бумага, Ножницы → Камень, Бумага → Ножницы).

## Структура бота и интерфейс

Бот реализует следующий интерфейс функций:

- **`set_parameters(set_count: int, wins_per_set: int)`**  
  Инициализирует параметры игры и глобальное состояние бота (например, сброс последнего хода).

- **`on_game_start()`**  
  Подготавливает бота к началу новой игры, очищая историю предыдущих ходов.

- **`choose(previous_opponent_choice: int) -> int`**  
  Основная функция, которая возвращает следующий ход (число от 1 до 3: 1 — Камень, 2 — Бумага, 3 — Ножницы). Логика выбора зависит от результата предыдущей схватки и применяет заданные правила перехода.

- **`on_game_end()`**  
  Выполняет завершающие действия после окончания игры (например, логирование статистики).

## Как работает логика выбора хода

1. **Первый ход:**  
   При отсутствии данных о предыдущих ходах бот всегда выбирает **Камень**.

2. **Анализ результата предыдущей схватки:**  
   Бот определяет исход предыдущей игры (выигрыш, проигрыш или ничья), сравнивая свой последний ход с ходом противника.

3. **Переходы:**  
   - При **выигрыше или ничьей** используется базовая схема переходов:
     - Камень → Ножницы
     - Ножницы → Бумага
     - Бумага → Камень
   - При **проигрыше** выбор следующего хода зависит от того, знает ли противник методику:
     - Если противник **не знает** методику, применяется та же схема, что и при выигрыше.
     - Если противник **знает** методику, используется альтернативная схема:
       - Камень → Бумага
       - Ножницы → Камень
       - Бумага → Ножницы

4. **Запоминание состояния:**  
   Бот сохраняет свой последний ход для определения перехода в следующем раунде.

## Пример сценария

- **Первый ход:**  
  Бот выбирает **Камень**.

- **Если в первой схватке бот выиграл или сыграл вничью:**  
  Последний ход: **Камень** → следующий ход: **Ножницы**.

- **Если бот проиграл и противник не знает методику:**  
  Последний ход: **Камень** → следующий ход: **Ножницы** (аналогично схеме выигрыша).

- **Если бот проиграл и противник знает методику:**  
  Последний ход: **Камень** → следующий ход: **Бумага**.

## Запуск и тестирование

Перед началом каждого матча сервер вызывает:
1. `set_parameters()` — для инициализации параметров и состояния.
2. `on_game_start()` — для подготовки бота к новой игре.
3. Многократные вызовы функции `choose(previous_opponent_choice)` — для получения ходов в каждом раунде.
4. `on_game_end()` — для завершения игры и выполнения итоговых операций.

## Дополнительная информация

- **Глобальные переменные:**  
  Используются для хранения последнего выбранного хода бота и (при необходимости) хода противника.
  
- **Настройка противника:**  
  Флаг `OPPONENT_AWARE` позволяет настроить стратегию при проигрыше: если противник знает методику, бот переключается на альтернативную схему переходов.

Эта базовая логика может служить отправной точкой для дальнейшего усложнения стратегии или тестирования различных вариантов поведения в турнирах.

---

## Скриншоты

![image](https://github.com/user-attachments/assets/35cc3093-cd6c-4fe4-8331-7c394683acc9)

