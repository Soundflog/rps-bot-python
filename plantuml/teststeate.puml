@startuml
title Дерево решений (глубина 3), старт: K(1)

' Дополнительная стилизация
skinparam linetype ortho
skinparam ranksep 40
skinparam nodesep 40

' Псевдо-старт и корневая вершина
[*] --> Камень_1

'---------------------------
' Уровень 1 (после 1-го раунда)
'---------------------------
' При результате "в" или "н" (выигрыш/ничья), следующий ход = N
' При результате "п" (проигрыш), следующий ход = B

Камень_1 --> Ножницы_2 : в
Камень_1 --> Бумага_2 : п

'---------------------------
' Уровень 2 (после 2-го раунда)
'---------------------------
' Для Ножницы_2:
'   в/н => B(3)
'   п   => K(3)

Ножницы_2 --> Бумага_3_1 : в
Ножницы_2 --> Камень_3_1 : п

' Для Бумага_2:
'   в/н => K(3)
'   п   => N(3)

Бумага_2 --> Камень_3_2 : в
Бумага_2 --> Ножницы_3_1 : п

'---------------------------
' Уровень 3 (после 3-го раунда)
'---------------------------
' Для Бумага_3:
'   в/н => K(4)
'   п   => N(4)

Бумага_3_1 --> Камень_4_1 : в
Бумага_3_1 --> Ножницы_4_1 : п

' Для Камень_3:
'   в/н => N(4)
'   п   => B(4)

Камень_3_1 --> Ножницы_4_2 : в
Камень_3_1 --> Бумага_4_1 : п

Камень_3_2 --> Ножницы_4_3 : в
Камень_3_2 --> Бумага_4_2 : п

' Для Ножницы_3:
'   в/н => B(4)
'   п   => K(4)

Ножницы_3_1 --> Бумага_4_3 : в
Ножницы_3_1 --> Камень_4_3 : п


@enduml
