@startuml
' Диаграмма алгоритма choose
title Choose Function Algorithm

start
:Получить предыдущий ход противника;
if (Ход противника получен?) then (да)
  :Обновить историю противника и матрицу переходов;
endif
:Увеличить счётчик ходов;
:Определить режим стратегии в зависимости от счётчика;
if (Счётчик mod 3 = 0?) then (да)
  :Использовать Markov Prediction;
elseif (Счётчик mod 3 = 1?) then (да)
  :Использовать Pattern Detection;
else (иначе)
  :Получить предсказания от Markov и Pattern Detection;
  :Если предсказания совпадают, выбрать их;
  :Если различаются, использовать Overall Prediction;
endif
:Вызвать Counter Move для определения своего хода;
:Записать выбранный ход в историю;
:Вернуть свой ход;
stop
@enduml