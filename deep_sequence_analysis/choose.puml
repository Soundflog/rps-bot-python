@startuml
title Схема алгоритма: Функция choose

' Начальные установки:
' ПХС = 0
' ПХ = пусто
' СЧ = 0
note left
  Нач. установк:
  ПХС = 0
  ПХ = пусто
  СЧ = 0
end note

:Нач. установк;
:Ввод ПХС;

if ("ПХС есть?") then (Да)
  :Добавить ПХС;
  :Увеличить СЧ;
else (Нет)
  :Уст. ход = К;
  :Запомнить ход;
  stop
endif

:Глуб. анализ;
note right
  Функция deep_seq_analysis
  Анализ ПХС паттернов
  Возврат хода
end note

if ("Есть рез?") then (Да)
  :Уст. предсказ;
else (Нет)
  :Общ. анализ;
  note right
    Функция overall_pred
    Анализ своих ходов
    Возврат хода
  end note
  if ("Есть рез?") then (Да)
    :Уст. предсказ;
  else (Нет)
    :Предсказ = К;
  endif
endif

:Опред. контрход;
note right
  Функция counter_move
  Опред. ход победы
  Возврат хода
end note

:Запомнить ход;
stop
@enduml
